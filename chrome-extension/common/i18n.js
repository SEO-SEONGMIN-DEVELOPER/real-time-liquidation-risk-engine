const I18n = (() => {
  'use strict';

  const LANGS = ['en', 'ko', 'zh', 'tr', 'ru', 'es', 'ja', 'pt'];
  const DEFAULT_LANG = 'en';
  let current = DEFAULT_LANG;

  const T = {
    en: {
      title: 'Liquidation Risk',
      sectionFuture: 'Forecast',
      sectionCurrent: 'Current',
      symbol: 'Pair',
      liqPrice: 'Liquidation Price',
      side: 'Side',
      leverage: 'Leverage',
      startMonitoring: 'Start Monitoring',
      stop: 'Stop',
      errSymbol: 'Please enter a trading pair',
      errLiqPrice: 'Please enter the liquidation price',
      reachProb: 'Reach Prob.',
      distance: 'Distance',
      direction: 'Direction',
      liqPriceLabel: 'Liq. Price',
      current: 'Current',
      details: 'Details',
      densityScore: 'Density Score',
      orderBookPath: 'Order Book',
      depth: 'Depth',
      notional: 'Notional',
      levels: 'Levels',
      depthRatio: 'Depth Ratio',
      liqClusters: 'Liq. Clusters',
      noClusters: 'No clusters in range',
      marketPressure: 'Market Pressure',
      totalPressure: 'Total Pressure',
      dirDown: '▼ Down',
      dirUp: '▲ Up',
      popupTitle: 'Liquidation Risk Monitor',
      popupIntro: 'A Chrome extension that predicts <strong>liquidation risk</strong> for Binance Futures positions in real time using two complementary models.',
      popupUsageTitle: 'How to Use',
      popupUsage1: 'The widget appears automatically on the Binance Futures page.',
      popupUsage2: 'Enter the <strong>trading pair</strong>, <strong>liquidation price</strong>, <strong>side</strong> (Long/Short), and <strong>leverage</strong>.',
      popupUsage3: 'Click <em>Start Monitoring</em> to begin real-time risk analysis.',
      popupUsage4: 'Expand <em>Details</em> to view all metrics.',
      popupMcTitle: 'Monte Carlo Simulation',
      popupMcDesc: 'Estimates the probability of reaching the liquidation price by simulating thousands of future price paths. Uses GARCH volatility, funding rate drift, and Student-t fat-tail distributions for realistic modeling.',
      labelMcRisk: 'MC Risk',
      labelHorizon: 'Horizons',
      labelSigma: 'Volatility(σ)',
      labelPaths: 'Paths',
      descMcRisk: 'MC risk grade based on the 24-hour liquidation probability',
      descMcHorizon: 'Liquidation probability at each time horizon (10m / 1h / 4h / 24h)',
      descMcSigma: 'Annualized volatility used in the simulation',
      descMcPaths: 'Total number of price paths simulated',
      popupCascadeTitle: 'Cascade Risk Analysis',
      popupCascadeDesc: 'Evaluates market microstructure between the current price and the liquidation price in real time. Analyzes order book depth, liquidation clusters, and market pressure to estimate cascade liquidation risk.',
      popupBasicTitle: 'Basic Metrics',
      labelRiskLevel: 'Risk Level',
      labelReachProb: 'Reach Prob.',
      labelDistance: 'Distance',
      labelDirection: 'Direction',
      descRiskLevel: 'Overall risk grade (LOW / MEDIUM / HIGH / CRITICAL)',
      descReachProb: 'Estimated probability of the price reaching liquidation (%)',
      descDistance: 'Distance between the current price and the liquidation price (%)',
      descDirection: 'Liquidation direction (Long→Down, Short→Up)',
      popupDetailTitle: 'Detailed Metrics',
      labelDensity: 'Density Score',
      labelDepthNotional: 'Depth / Notional',
      labelLevelsRatio: 'Levels / Depth Ratio',
      labelClusters: 'Liq. Clusters',
      labelOI: 'OI Pressure',
      labelLiq: 'Liq. Intensity',
      labelImbal: 'Imbalance',
      descDensity: 'Order book density score in the price range (0–100)',
      descDepthNotional: 'Order volume (BTC) and notional value (USDT) in range',
      descLevelsRatio: 'Price levels in range / ratio to the total order book',
      descClusters: 'Estimated liquidation clusters by leverage within the range',
      descOI: 'Market pressure from open interest change rate (0–20)',
      descLiq: 'Forced liquidation frequency and volume in the last 30 min (0–20)',
      descImbal: 'Bid/ask imbalance in the order book (0–20)',
      popupFooter: 'Binance Futures only · Real-time WebSocket',
      mcTitle: 'MC Simulation',
      mcNoData: 'Waiting for MC data…',
      mcVolatility: 'Volatility(σ)',
      mcPaths: 'Paths',
      mcRisk: 'MC Risk',
      mc10m: '10min',
      mc1h: '1hr',
      mc4h: '4hr',
      mc24h: '24hr',
    },
    ko: {
      title: '청산 위험도',
      sectionFuture: '예측',
      sectionCurrent: '현재',
      symbol: '거래쌍',
      liqPrice: '청산가',
      side: '포지션',
      leverage: '레버리지',
      startMonitoring: '모니터링 시작',
      stop: '중지',
      errSymbol: '거래쌍을 입력하세요',
      errLiqPrice: '청산가를 입력하세요',
      reachProb: '도달 확률',
      distance: '거리',
      direction: '방향',
      liqPriceLabel: '청산가',
      current: '현재가',
      details: '상세 보기',
      densityScore: '밀도 점수',
      orderBookPath: '호가창',
      depth: '물량',
      notional: '명목가치',
      levels: '호가 단계',
      depthRatio: '물량 비율',
      liqClusters: '청산 클러스터',
      noClusters: '구간 내 클러스터 없음',
      marketPressure: '시장 압력',
      totalPressure: '총 압력',
      dirDown: '▼ 하락',
      dirUp: '▲ 상승',
      popupTitle: '청산 위험도 모니터',
      popupIntro: '바이낸스 선물 포지션의 <strong>청산 위험</strong>을 두 가지 상호보완 모델로 실시간 예측하는 Chrome 확장 프로그램입니다.',
      popupUsageTitle: '사용법',
      popupUsage1: '바이낸스 선물 페이지에 접속하면 위젯이 자동으로 나타납니다.',
      popupUsage2: '<strong>거래쌍</strong>, <strong>청산가</strong>, <strong>포지션</strong>(Long/Short), <strong>레버리지</strong>를 입력합니다.',
      popupUsage3: '<em>모니터링 시작</em>을 누르면 실시간 위험 분석이 시작됩니다.',
      popupUsage4: '<em>상세 보기</em>를 펼치면 세부 지표를 확인할 수 있습니다.',
      popupMcTitle: '몬테카를로 시뮬레이션',
      popupMcDesc: '수천 개의 미래 가격 경로를 시뮬레이션하여 청산가 도달 확률을 산출합니다. GARCH 변동성, 펀딩비 드리프트, Student-t 팻테일 분포를 적용해 현실적인 시장 움직임을 재현합니다.',
      labelMcRisk: 'MC 위험',
      labelHorizon: '시간대별 확률',
      labelSigma: '변동성(σ)',
      labelPaths: '경로 수',
      descMcRisk: '24시간 청산 확률 기반 MC 위험 등급',
      descMcHorizon: '시간대별 청산 확률 (10분 / 1시간 / 4시간 / 24시간)',
      descMcSigma: '시뮬레이션에 사용된 연율화 변동성',
      descMcPaths: '시뮬레이션한 가격 경로 총 수',
      popupCascadeTitle: '연쇄 청산 위험 분석',
      popupCascadeDesc: '현재가와 청산가 사이의 시장 미시구조를 실시간으로 평가합니다. 오더북 유동성, 청산 클러스터, 시장 압력을 종합 분석하여 연쇄 청산 발생 가능성을 판단합니다.',
      popupBasicTitle: '기본 지표',
      labelRiskLevel: '위험 등급',
      labelReachProb: '도달 확률',
      labelDistance: '거리',
      labelDirection: '방향',
      descRiskLevel: '종합 위험 등급 (LOW / MEDIUM / HIGH / CRITICAL)',
      descReachProb: '가격이 청산가에 도달할 추정 확률 (%)',
      descDistance: '현재가와 청산가 사이의 거리 (%)',
      descDirection: '청산 방향 (Long→하락, Short→상승)',
      popupDetailTitle: '상세 지표',
      labelDensity: '밀도 점수',
      labelDepthNotional: '물량 / 명목가치',
      labelLevelsRatio: '호가 단계 / 물량 비율',
      labelClusters: '청산 클러스터',
      labelOI: 'OI 압력',
      labelLiq: '청산 강도',
      labelImbal: '매수매도 편향',
      descDensity: '현재가~청산가 구간의 오더북 밀도 종합 점수 (0~100)',
      descDepthNotional: '구간 내 주문 수량(BTC) 및 명목가치(USDT)',
      descLevelsRatio: '구간 내 호가 단계 수 / 전체 오더북 대비 비율',
      descClusters: '구간 내 레버리지별 추정 청산 클러스터',
      descOI: '미결제약정(OI) 변동에 따른 시장 압력 (0~20)',
      descLiq: '최근 30분간 강제 청산 빈도 및 규모 (0~20)',
      descImbal: '오더북 매수/매도 편향 정도 (0~20)',
      popupFooter: '바이낸스 선물 전용 · 실시간 WebSocket',
      mcTitle: 'MC 시뮬레이션',
      mcNoData: 'MC 데이터 대기 중…',
      mcVolatility: '변동성(σ)',
      mcPaths: '경로 수',
      mcRisk: 'MC 위험',
      mc10m: '10분',
      mc1h: '1시간',
      mc4h: '4시간',
      mc24h: '24시간',
    },
    zh: {
      title: '清算风险',
      sectionFuture: '预测',
      sectionCurrent: '当前',
      symbol: '交易对',
      liqPrice: '清算价',
      side: '方向',
      leverage: '杠杆',
      startMonitoring: '开始监控',
      stop: '停止',
      errSymbol: '请输入交易对',
      errLiqPrice: '请输入清算价',
      reachProb: '触达概率',
      distance: '距离',
      direction: '方向',
      liqPriceLabel: '清算价',
      current: '现价',
      details: '详情',
      densityScore: '密度评分',
      orderBookPath: '盘口路径',
      depth: '挂单量',
      notional: '名义价值',
      levels: '档位数',
      depthRatio: '挂单占比',
      liqClusters: '清算集群',
      noClusters: '区间内无集群',
      marketPressure: '市场压力',
      totalPressure: '总压力',
      dirDown: '▼ 下行',
      dirUp: '▲ 上行',
      popupTitle: '清算风险监控',
      popupIntro: '一款基于两种互补模型、实时预测币安合约仓位<strong>清算风险</strong>的Chrome扩展。',
      popupUsageTitle: '使用方法',
      popupUsage1: '打开币安合约页面后，监控面板自动显示。',
      popupUsage2: '填写<strong>交易对</strong>、<strong>清算价</strong>、<strong>方向</strong>（做多/做空）及<strong>杠杆倍数</strong>。',
      popupUsage3: '点击<em>开始监控</em>，即可启动实时风险分析。',
      popupUsage4: '点击<em>详情</em>可展开查看全部指标。',
      popupMcTitle: '蒙特卡洛模拟',
      popupMcDesc: '模拟数千条未来价格路径，预测触达清算价的概率。采用GARCH波动率、资金费率漂移及Student-t厚尾分布，还原真实市场行为。',
      labelMcRisk: 'MC风险',
      labelHorizon: '分时概率',
      labelSigma: '波动率(σ)',
      labelPaths: '路径数',
      descMcRisk: '基于24小时清算概率的MC风险等级',
      descMcHorizon: '不同时间窗口的清算概率（10分钟 / 1小时 / 4小时 / 24小时）',
      descMcSigma: '模拟所用的年化波动率',
      descMcPaths: '模拟的价格路径总数',
      popupCascadeTitle: '连锁清算风险分析',
      popupCascadeDesc: '实时评估现价与清算价之间的市场微观结构，综合盘口深度、清算集群及市场压力指标，判断连锁清算发生的可能性。',
      popupBasicTitle: '基本指标',
      labelRiskLevel: '风险等级',
      labelReachProb: '触达概率',
      labelDistance: '距离',
      labelDirection: '方向',
      descRiskLevel: '综合风险等级（LOW / MEDIUM / HIGH / CRITICAL）',
      descReachProb: '价格触达清算价的预估概率（%）',
      descDistance: '现价与清算价之间的距离（%）',
      descDirection: '清算方向（做多→下行，做空→上行）',
      popupDetailTitle: '详细指标',
      labelDensity: '密度评分',
      labelDepthNotional: '挂单量 / 名义价值',
      labelLevelsRatio: '档位数 / 挂单占比',
      labelClusters: '清算集群',
      labelOI: 'OI压力',
      labelLiq: '清算强度',
      labelImbal: '买卖失衡',
      descDensity: '现价至清算价区间的盘口密度综合评分（0~100）',
      descDepthNotional: '区间内挂单量（BTC）及名义价值（USDT）',
      descLevelsRatio: '区间内价格档位数 / 占全盘口比例',
      descClusters: '区间内按杠杆倍数分布的预估清算集群',
      descOI: '未平仓量（OI）变动引起的市场压力（0~20）',
      descLiq: '近30分钟强制清算频率及规模（0~20）',
      descImbal: '盘口买卖挂单失衡程度（0~20）',
      popupFooter: '仅限币安合约 · 实时WebSocket',
      mcTitle: 'MC模拟',
      mcNoData: '等待MC数据…',
      mcVolatility: '波动率(σ)',
      mcPaths: '路径数',
      mcRisk: 'MC风险',
      mc10m: '10分钟',
      mc1h: '1小时',
      mc4h: '4小时',
      mc24h: '24小时',
    },
    tr: {
      title: 'Likidasyon Riski',
      sectionFuture: 'Tahmin',
      sectionCurrent: 'Güncel',
      symbol: 'Sembol',
      liqPrice: 'Likidasyon Fiyatı',
      side: 'Pozisyon',
      leverage: 'Kaldıraç',
      startMonitoring: 'İzlemeye Başla',
      stop: 'Durdur',
      errSymbol: 'Lütfen bir sembol girin',
      errLiqPrice: 'Lütfen likidasyon fiyatını girin',
      reachProb: 'Ulaşma Ol.',
      distance: 'Mesafe',
      direction: 'Yön',
      liqPriceLabel: 'Lik. Fiyatı',
      current: 'Güncel Fiyat',
      details: 'Ayrıntılar',
      densityScore: 'Yoğunluk Puanı',
      orderBookPath: 'Emir Defteri',
      depth: 'Derinlik',
      notional: 'Nominal Değer',
      levels: 'Kademe',
      depthRatio: 'Derinlik Oranı',
      liqClusters: 'Lik. Kümeleri',
      noClusters: 'Aralıkta küme bulunamadı',
      marketPressure: 'Piyasa Baskısı',
      totalPressure: 'Toplam Baskı',
      dirDown: '▼ Düşüş',
      dirUp: '▲ Yükseliş',
      popupTitle: 'Likidasyon Risk Monitörü',
      popupIntro: 'Binance Vadeli İşlem pozisyonlarınızın <strong>likidasyon riskini</strong> birbirini tamamlayan iki model ile anlık olarak tahmin eden Chrome uzantısı.',
      popupUsageTitle: 'Nasıl Kullanılır',
      popupUsage1: 'Binance Vadeli İşlem sayfasını açtığınızda widget otomatik olarak görünür.',
      popupUsage2: '<strong>Sembol</strong>, <strong>Likidasyon Fiyatı</strong>, <strong>Pozisyon</strong> (Long/Short) ve <strong>Kaldıraç</strong> bilgilerini girin.',
      popupUsage3: '<em>İzlemeye Başla</em> düğmesine tıklayarak anlık risk analizini başlatın.',
      popupUsage4: '<em>Ayrıntılar</em> bölümünü genişleterek tüm metrikleri görüntüleyin.',
      popupMcTitle: 'Monte Carlo Simülasyonu',
      popupMcDesc: 'Binlerce olası fiyat yolunu simüle ederek likidasyon fiyatına ulaşma olasılığını hesaplar. GARCH oynaklığı, fonlama oranı kayması ve Student-t kalın kuyruk dağılımını kullanarak gerçekçi sonuçlar üretir.',
      labelMcRisk: 'MC Risk',
      labelHorizon: 'Zaman Dilimleri',
      labelSigma: 'Oynaklık(σ)',
      labelPaths: 'Yol Sayısı',
      descMcRisk: '24 saatlik likidasyon olasılığına dayalı MC risk seviyesi',
      descMcHorizon: 'Zaman dilimlerine göre likidasyon olasılığı (10dk / 1sa / 4sa / 24sa)',
      descMcSigma: 'Simülasyonda kullanılan yıllık oynaklık değeri',
      descMcPaths: 'Simüle edilen toplam fiyat yolu sayısı',
      popupCascadeTitle: 'Zincirleme Likidasyon Riski',
      popupCascadeDesc: 'Güncel fiyat ile likidasyon fiyatı arasındaki piyasa yapısını anlık olarak değerlendirir. Emir defteri derinliğini, likidasyon kümelerini ve piyasa baskısını analiz ederek zincirleme likidasyon riskini ölçer.',
      popupBasicTitle: 'Temel Metrikler',
      labelRiskLevel: 'Risk Seviyesi',
      labelReachProb: 'Ulaşma Ol.',
      labelDistance: 'Mesafe',
      labelDirection: 'Yön',
      descRiskLevel: 'Genel risk seviyesi (LOW / MEDIUM / HIGH / CRITICAL)',
      descReachProb: 'Fiyatın likidasyon fiyatına ulaşma olasılığı (%)',
      descDistance: 'Güncel fiyat ile likidasyon fiyatı arasındaki mesafe (%)',
      descDirection: 'Likidasyon yönü (Long→Düşüş, Short→Yükseliş)',
      popupDetailTitle: 'Detaylı Metrikler',
      labelDensity: 'Yoğunluk Puanı',
      labelDepthNotional: 'Derinlik / Nominal',
      labelLevelsRatio: 'Kademe / Derinlik Oranı',
      labelClusters: 'Lik. Kümeleri',
      labelOI: 'OI Baskısı',
      labelLiq: 'Lik. Yoğunluğu',
      labelImbal: 'Dengesizlik',
      descDensity: 'Fiyat aralığındaki emir defteri yoğunluk puanı (0–100)',
      descDepthNotional: 'Aralıktaki emir miktarı (BTC) ve nominal değeri (USDT)',
      descLevelsRatio: 'Aralıktaki fiyat kademeleri / toplam emir defterine oranı',
      descClusters: 'Aralıkta kaldıraç bazında tahmini likidasyon kümeleri',
      descOI: 'OI değişim oranına dayalı piyasa baskısı (0–20)',
      descLiq: 'Son 30 dk içindeki zorunlu likidasyon sıklığı ve hacmi (0–20)',
      descImbal: 'Emir defterindeki alış/satış dengesizliği (0–20)',
      popupFooter: 'Yalnızca Binance Vadeli İşlem · Anlık WebSocket',
      mcTitle: 'MC Simülasyonu',
      mcNoData: 'MC verisi bekleniyor…',
      mcVolatility: 'Oynaklık(σ)',
      mcPaths: 'Yol Sayısı',
      mcRisk: 'MC Risk',
      mc10m: '10dk',
      mc1h: '1sa',
      mc4h: '4sa',
      mc24h: '24sa',
    },
    ru: {
      title: 'Риск ликвидации',
      sectionFuture: 'Прогноз',
      sectionCurrent: 'Текущее',
      symbol: 'Пара',
      liqPrice: 'Цена ликвидации',
      side: 'Позиция',
      leverage: 'Плечо',
      startMonitoring: 'Начать мониторинг',
      stop: 'Остановить',
      errSymbol: 'Введите торговую пару',
      errLiqPrice: 'Введите цену ликвидации',
      reachProb: 'Вер. достиж.',
      distance: 'Расстояние',
      direction: 'Направление',
      liqPriceLabel: 'Цена ликв.',
      current: 'Текущая',
      details: 'Подробнее',
      densityScore: 'Плотность',
      orderBookPath: 'Стакан',
      depth: 'Объём',
      notional: 'Номинал',
      levels: 'Уровни',
      depthRatio: 'Доля стакана',
      liqClusters: 'Кластеры ликв.',
      noClusters: 'Кластеров в диапазоне нет',
      marketPressure: 'Давление рынка',
      totalPressure: 'Общее давление',
      dirDown: '▼ Вниз',
      dirUp: '▲ Вверх',
      popupTitle: 'Монитор риска ликвидации',
      popupIntro: 'Chrome-расширение для оценки <strong>риска ликвидации</strong> фьючерсных позиций на Binance в реальном времени на базе двух взаимодополняющих моделей.',
      popupUsageTitle: 'Как пользоваться',
      popupUsage1: 'Виджет автоматически появляется на странице фьючерсов Binance.',
      popupUsage2: 'Укажите <strong>пару</strong>, <strong>цену ликвидации</strong>, <strong>позицию</strong> (Long/Short) и <strong>плечо</strong>.',
      popupUsage3: 'Нажмите <em>Начать мониторинг</em>, чтобы запустить анализ рисков.',
      popupUsage4: 'Раскройте раздел <em>Подробнее</em>, чтобы увидеть все метрики.',
      popupMcTitle: 'Симуляция Монте-Карло',
      popupMcDesc: 'Рассчитывает вероятность достижения цены ликвидации, моделируя тысячи ценовых траекторий. Учитывает GARCH-волатильность, дрейф ставки финансирования и тяжёлые хвосты распределения Student-t.',
      labelMcRisk: 'MC Риск',
      labelHorizon: 'Горизонты',
      labelSigma: 'Волатильность(σ)',
      labelPaths: 'Кол-во путей',
      descMcRisk: 'Уровень MC-риска на основе 24-часовой вероятности ликвидации',
      descMcHorizon: 'Вероятность ликвидации по горизонтам (10м / 1ч / 4ч / 24ч)',
      descMcSigma: 'Годовая волатильность, используемая в симуляции',
      descMcPaths: 'Число смоделированных ценовых траекторий',
      popupCascadeTitle: 'Анализ каскадного риска',
      popupCascadeDesc: 'Оценивает микроструктуру рынка между текущей ценой и ценой ликвидации. Анализирует глубину стакана, кластеры ликвидаций и давление рынка для определения вероятности каскадной ликвидации.',
      popupBasicTitle: 'Основные метрики',
      labelRiskLevel: 'Уровень риска',
      labelReachProb: 'Вер. достиж.',
      labelDistance: 'Расстояние',
      labelDirection: 'Направление',
      descRiskLevel: 'Общий уровень риска (LOW / MEDIUM / HIGH / CRITICAL)',
      descReachProb: 'Расчётная вероятность достижения цены ликвидации (%)',
      descDistance: 'Расстояние между текущей ценой и ценой ликвидации (%)',
      descDirection: 'Направление ликвидации (Long→вниз, Short→вверх)',
      popupDetailTitle: 'Детальные метрики',
      labelDensity: 'Плотность',
      labelDepthNotional: 'Объём / Номинал',
      labelLevelsRatio: 'Уровни / Доля стакана',
      labelClusters: 'Кластеры ликв.',
      labelOI: 'Давление OI',
      labelLiq: 'Инт. ликвидаций',
      labelImbal: 'Дисбаланс',
      descDensity: 'Оценка плотности стакана в ценовом диапазоне (0–100)',
      descDepthNotional: 'Объём заявок (BTC) и номинальная стоимость (USDT) в диапазоне',
      descLevelsRatio: 'Ценовые уровни в диапазоне / доля от всего стакана',
      descClusters: 'Предполагаемые кластеры ликвидаций по уровню плеча',
      descOI: 'Рыночное давление от изменения открытого интереса (0–20)',
      descLiq: 'Частота и объём принудительных ликвидаций за последние 30 мин (0–20)',
      descImbal: 'Дисбаланс спроса и предложения в стакане (0–20)',
      popupFooter: 'Только Binance Futures · WebSocket в реальном времени',
      mcTitle: 'MC Симуляция',
      mcNoData: 'Ожидание данных MC…',
      mcVolatility: 'Волатильность(σ)',
      mcPaths: 'Кол-во путей',
      mcRisk: 'MC Риск',
      mc10m: '10мин',
      mc1h: '1ч',
      mc4h: '4ч',
      mc24h: '24ч',
    },
    es: {
      title: 'Riesgo de Liquidación',
      sectionFuture: 'Proyección',
      sectionCurrent: 'Actual',
      symbol: 'Par',
      liqPrice: 'Precio de Liquidación',
      side: 'Posición',
      leverage: 'Apalancamiento',
      startMonitoring: 'Iniciar Monitoreo',
      stop: 'Detener',
      errSymbol: 'Introduce un par de trading',
      errLiqPrice: 'Introduce el precio de liquidación',
      reachProb: 'Prob. Alcance',
      distance: 'Distancia',
      direction: 'Dirección',
      liqPriceLabel: 'Precio Liq.',
      current: 'Precio Actual',
      details: 'Detalles',
      densityScore: 'Densidad',
      orderBookPath: 'Libro de Órdenes',
      depth: 'Volumen',
      notional: 'Nocional',
      levels: 'Niveles',
      depthRatio: 'Proporción',
      liqClusters: 'Clústeres Liq.',
      noClusters: 'No hay clústeres en el rango',
      marketPressure: 'Presión del Mercado',
      totalPressure: 'Presión Total',
      dirDown: '▼ Bajista',
      dirUp: '▲ Alcista',
      popupTitle: 'Monitor de Riesgo de Liquidación',
      popupIntro: 'Extensión de Chrome que predice en tiempo real el <strong>riesgo de liquidación</strong> de posiciones en Binance Futures mediante dos modelos complementarios.',
      popupUsageTitle: 'Cómo se usa',
      popupUsage1: 'El widget aparece automáticamente al abrir la página de Binance Futures.',
      popupUsage2: 'Introduce el <strong>par</strong>, <strong>precio de liquidación</strong>, <strong>posición</strong> (Long/Short) y <strong>apalancamiento</strong>.',
      popupUsage3: 'Pulsa <em>Iniciar Monitoreo</em> para comenzar el análisis en tiempo real.',
      popupUsage4: 'Despliega <em>Detalles</em> para ver todas las métricas.',
      popupMcTitle: 'Simulación Monte Carlo',
      popupMcDesc: 'Calcula la probabilidad de alcanzar el precio de liquidación simulando miles de trayectorias de precios. Emplea volatilidad GARCH, deriva de la tasa de financiación y distribución Student-t de colas pesadas para un modelado realista.',
      labelMcRisk: 'Riesgo MC',
      labelHorizon: 'Horizontes',
      labelSigma: 'Volatilidad(σ)',
      labelPaths: 'Trayectorias',
      descMcRisk: 'Nivel de riesgo MC según la probabilidad de liquidación a 24h',
      descMcHorizon: 'Probabilidad de liquidación por horizonte temporal (10m / 1h / 4h / 24h)',
      descMcSigma: 'Volatilidad anualizada empleada en la simulación',
      descMcPaths: 'Número total de trayectorias de precios simuladas',
      popupCascadeTitle: 'Análisis de Riesgo en Cascada',
      popupCascadeDesc: 'Evalúa en tiempo real la microestructura del mercado entre el precio actual y el de liquidación. Analiza la profundidad del libro de órdenes, los clústeres de liquidación y la presión del mercado para estimar el riesgo de liquidación en cascada.',
      popupBasicTitle: 'Métricas Básicas',
      labelRiskLevel: 'Nivel de Riesgo',
      labelReachProb: 'Prob. Alcance',
      labelDistance: 'Distancia',
      labelDirection: 'Dirección',
      descRiskLevel: 'Nivel de riesgo general (LOW / MEDIUM / HIGH / CRITICAL)',
      descReachProb: 'Probabilidad estimada de que el precio alcance la liquidación (%)',
      descDistance: 'Distancia entre el precio actual y el de liquidación (%)',
      descDirection: 'Dirección de liquidación (Long→Bajista, Short→Alcista)',
      popupDetailTitle: 'Métricas Detalladas',
      labelDensity: 'Densidad',
      labelDepthNotional: 'Volumen / Nocional',
      labelLevelsRatio: 'Niveles / Proporción',
      labelClusters: 'Clústeres Liq.',
      labelOI: 'Presión OI',
      labelLiq: 'Int. Liquidación',
      labelImbal: 'Desequilibrio',
      descDensity: 'Puntuación de densidad del libro de órdenes en el rango (0–100)',
      descDepthNotional: 'Volumen de órdenes (BTC) y valor nocional (USDT) en el rango',
      descLevelsRatio: 'Niveles de precio en el rango / proporción respecto al libro total',
      descClusters: 'Clústeres de liquidación estimados según apalancamiento',
      descOI: 'Presión del mercado por variación del interés abierto (0–20)',
      descLiq: 'Frecuencia y volumen de liquidaciones forzadas en los últimos 30 min (0–20)',
      descImbal: 'Desequilibrio entre oferta y demanda en el libro (0–20)',
      popupFooter: 'Solo Binance Futures · WebSocket en tiempo real',
      mcTitle: 'Simulación MC',
      mcNoData: 'Esperando datos MC…',
      mcVolatility: 'Volatilidad(σ)',
      mcPaths: 'Trayectorias',
      mcRisk: 'Riesgo MC',
      mc10m: '10min',
      mc1h: '1h',
      mc4h: '4h',
      mc24h: '24h',
    },
    ja: {
      title: '清算リスク',
      sectionFuture: '予測',
      sectionCurrent: '現在',
      symbol: '通貨ペア',
      liqPrice: '清算価格',
      side: 'ポジション',
      leverage: 'レバレッジ',
      startMonitoring: 'モニタリング開始',
      stop: '停止',
      errSymbol: '通貨ペアを入力してください',
      errLiqPrice: '清算価格を入力してください',
      reachProb: '到達確率',
      distance: '距離',
      direction: '方向',
      liqPriceLabel: '清算価',
      current: '現在価格',
      details: '詳細',
      densityScore: '密度スコア',
      orderBookPath: '板情報',
      depth: '注文量',
      notional: '想定元本',
      levels: '価格段階',
      depthRatio: '注文比率',
      liqClusters: '清算クラスタ',
      noClusters: '範囲内にクラスタなし',
      marketPressure: '市場圧力',
      totalPressure: '総合圧力',
      dirDown: '▼ 下落',
      dirUp: '▲ 上昇',
      popupTitle: '清算リスクモニター',
      popupIntro: 'Binance先物ポジションの<strong>清算リスク</strong>を、2つの補完的モデルでリアルタイムに予測するChrome拡張機能です。',
      popupUsageTitle: '使い方',
      popupUsage1: 'Binance先物ページを開くと、ウィジェットが自動で表示されます。',
      popupUsage2: '<strong>通貨ペア</strong>、<strong>清算価格</strong>、<strong>ポジション</strong>（Long/Short）、<strong>レバレッジ</strong>を入力します。',
      popupUsage3: '<em>モニタリング開始</em>をクリックすると、リアルタイムのリスク分析が始まります。',
      popupUsage4: '<em>詳細</em>を展開すると、すべての指標を確認できます。',
      popupMcTitle: 'モンテカルロ・シミュレーション',
      popupMcDesc: '数千本の将来価格パスをシミュレーションし、清算価格への到達確率を算出します。GARCHボラティリティ、ファンディングレートによるドリフト、Student-tのファットテール分布を用いて現実的な市場動向を再現します。',
      labelMcRisk: 'MCリスク',
      labelHorizon: '時間帯別確率',
      labelSigma: 'ボラティリティ(σ)',
      labelPaths: 'パス数',
      descMcRisk: '24時間の清算確率に基づくMCリスク等級',
      descMcHorizon: '各時間帯の清算確率（10分 / 1時間 / 4時間 / 24時間）',
      descMcSigma: 'シミュレーションで使用する年率換算ボラティリティ',
      descMcPaths: 'シミュレーションした価格パスの総数',
      popupCascadeTitle: '連鎖清算リスク分析',
      popupCascadeDesc: '現在価格から清算価格までの市場構造をリアルタイムに評価します。板の流動性・清算クラスタ・市場圧力を総合的に分析し、連鎖清算の発生可能性を判定します。',
      popupBasicTitle: '基本指標',
      labelRiskLevel: 'リスク等級',
      labelReachProb: '到達確率',
      labelDistance: '距離',
      labelDirection: '方向',
      descRiskLevel: '総合リスク等級（LOW / MEDIUM / HIGH / CRITICAL）',
      descReachProb: '価格が清算価格に到達する推定確率（%）',
      descDistance: '現在価格と清算価格との距離（%）',
      descDirection: '清算方向（Long→下落、Short→上昇）',
      popupDetailTitle: '詳細指標',
      labelDensity: '密度スコア',
      labelDepthNotional: '注文量 / 想定元本',
      labelLevelsRatio: '価格段階 / 注文比率',
      labelClusters: '清算クラスタ',
      labelOI: 'OI圧力',
      labelLiq: '清算強度',
      labelImbal: '売買偏り',
      descDensity: '対象区間の板密度の総合スコア（0〜100）',
      descDepthNotional: '区間内の注文量（BTC）と想定元本（USDT）',
      descLevelsRatio: '区間内の価格段階数 / 板全体に対する比率',
      descClusters: '区間内のレバレッジ別の推定清算クラスタ',
      descOI: '建玉（OI）の変動率に基づく市場圧力（0〜20）',
      descLiq: '直近30分間の強制清算の頻度と規模（0〜20）',
      descImbal: '板の売り注文と買い注文の偏り（0〜20）',
      popupFooter: 'Binance先物専用 · リアルタイムWebSocket接続',
      mcTitle: 'MCシミュレーション',
      mcNoData: 'MCデータを待機中…',
      mcVolatility: 'ボラティリティ(σ)',
      mcPaths: 'パス数',
      mcRisk: 'MCリスク',
      mc10m: '10分',
      mc1h: '1時間',
      mc4h: '4時間',
      mc24h: '24時間',
    },
    pt: {
      title: 'Risco de Liquidação',
      sectionFuture: 'Projeção',
      sectionCurrent: 'Atual',
      symbol: 'Par',
      liqPrice: 'Preço de Liquidação',
      side: 'Posição',
      leverage: 'Alavancagem',
      startMonitoring: 'Iniciar Monitoramento',
      stop: 'Parar',
      errSymbol: 'Informe o par de trading',
      errLiqPrice: 'Informe o preço de liquidação',
      reachProb: 'Prob. Alcance',
      distance: 'Distância',
      direction: 'Direção',
      liqPriceLabel: 'Preço Liq.',
      current: 'Preço Atual',
      details: 'Detalhes',
      densityScore: 'Densidade',
      orderBookPath: 'Livro de Ordens',
      depth: 'Volume',
      notional: 'Nocional',
      levels: 'Níveis',
      depthRatio: 'Proporção',
      liqClusters: 'Clusters Liq.',
      noClusters: 'Nenhum cluster no intervalo',
      marketPressure: 'Pressão do Mercado',
      totalPressure: 'Pressão Total',
      dirDown: '▼ Baixa',
      dirUp: '▲ Alta',
      popupTitle: 'Monitor de Risco de Liquidação',
      popupIntro: 'Extensão Chrome que prevê em tempo real o <strong>risco de liquidação</strong> de posições na Binance Futures por meio de dois modelos complementares.',
      popupUsageTitle: 'Como usar',
      popupUsage1: 'O widget aparece automaticamente ao acessar a página da Binance Futures.',
      popupUsage2: 'Informe o <strong>par</strong>, <strong>preço de liquidação</strong>, <strong>posição</strong> (Long/Short) e <strong>alavancagem</strong>.',
      popupUsage3: 'Clique em <em>Iniciar Monitoramento</em> para começar a análise em tempo real.',
      popupUsage4: 'Expanda <em>Detalhes</em> para visualizar todas as métricas.',
      popupMcTitle: 'Simulação Monte Carlo',
      popupMcDesc: 'Calcula a probabilidade de atingir o preço de liquidação simulando milhares de trajetórias de preço. Utiliza volatilidade GARCH, drift da taxa de financiamento e distribuição Student-t de caudas pesadas para modelagem realista.',
      labelMcRisk: 'Risco MC',
      labelHorizon: 'Horizontes',
      labelSigma: 'Volatilidade(σ)',
      labelPaths: 'Trajetórias',
      descMcRisk: 'Nível de risco MC com base na probabilidade de liquidação em 24h',
      descMcHorizon: 'Probabilidade de liquidação por horizonte temporal (10m / 1h / 4h / 24h)',
      descMcSigma: 'Volatilidade anualizada utilizada na simulação',
      descMcPaths: 'Número total de trajetórias de preço simuladas',
      popupCascadeTitle: 'Análise de Risco em Cascata',
      popupCascadeDesc: 'Avalia em tempo real a microestrutura do mercado entre o preço atual e o de liquidação. Analisa a profundidade do livro de ordens, clusters de liquidação e pressão do mercado para estimar o risco de liquidação em cascata.',
      popupBasicTitle: 'Métricas Básicas',
      labelRiskLevel: 'Nível de Risco',
      labelReachProb: 'Prob. Alcance',
      labelDistance: 'Distância',
      labelDirection: 'Direção',
      descRiskLevel: 'Nível de risco geral (LOW / MEDIUM / HIGH / CRITICAL)',
      descReachProb: 'Probabilidade estimada de o preço atingir a liquidação (%)',
      descDistance: 'Distância entre o preço atual e o de liquidação (%)',
      descDirection: 'Direção da liquidação (Long→Baixa, Short→Alta)',
      popupDetailTitle: 'Métricas Detalhadas',
      labelDensity: 'Densidade',
      labelDepthNotional: 'Volume / Nocional',
      labelLevelsRatio: 'Níveis / Proporção',
      labelClusters: 'Clusters Liq.',
      labelOI: 'Pressão OI',
      labelLiq: 'Int. Liquidação',
      labelImbal: 'Desequilíbrio',
      descDensity: 'Pontuação de densidade do livro de ordens no intervalo (0–100)',
      descDepthNotional: 'Volume de ordens (BTC) e valor nocional (USDT) no intervalo',
      descLevelsRatio: 'Níveis de preço no intervalo / proporção do livro total',
      descClusters: 'Clusters de liquidação estimados por nível de alavancagem',
      descOI: 'Pressão do mercado pela variação do interesse aberto (0–20)',
      descLiq: 'Frequência e volume de liquidações forçadas nos últimos 30 min (0–20)',
      descImbal: 'Desequilíbrio entre ofertas de compra e venda no livro (0–20)',
      popupFooter: 'Apenas Binance Futures · WebSocket em tempo real',
      mcTitle: 'Simulação MC',
      mcNoData: 'Aguardando dados MC…',
      mcVolatility: 'Volatilidade(σ)',
      mcPaths: 'Trajetórias',
      mcRisk: 'Risco MC',
      mc10m: '10min',
      mc1h: '1h',
      mc4h: '4h',
      mc24h: '24h',
    },
  };

  function get(key) {
    return (T[current] && T[current][key]) || T[DEFAULT_LANG][key] || key;
  }

  function setLang(lang) {
    if (LANGS.includes(lang)) current = lang;
  }

  function getLang() {
    return current;
  }

  function getLangs() {
    return LANGS;
  }

  return { get, setLang, getLang, getLangs, T };
})();
